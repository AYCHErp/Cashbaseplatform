<section *ngIf="componentVisible">
  <h2>{{ 'page.program.manage-aidworkers.section-title'|translate }}</h2>
  <h4>{{ 'page.program.manage-aidworkers.view-aidworkers'|translate }}</h4>

  <ngx-datatable class="bootstrap"
                 limit="50"
                 columnMode="force"
                 rowHeight="auto"
                 headerHeight="50"
                 footerHeight="0"
                 reorderable="false"
                 sortType="multi"
                 loadingIndicator="true"
                 [columns]="columns"
                 [rows]="aidworkers"
  >
    <ngx-datatable-column *ngFor="let column of columns; let i = index;" 
                          name="{{column.name}}" 
                          prop="{{column.prop}}"
    >
      <ng-template *ngIf="column.prop==='delete'"
                  let-row="row" 
                  ngx-datatable-cell-template
      >
        <confirm-prompt (confirm)="deleteAidworker(row)"
                        [subHeader]="'page.program.manage-aidworkers.column-delete'|translate"
                        size="small"
                        fill="outline"
        >
          <ion-icon size="small" slot="icon-only" name="trash"></ion-icon>
        </confirm-prompt>
      </ng-template>
    </ngx-datatable-column>
  </ngx-datatable>

  <h4>{{ 'page.program.manage-aidworkers.create-aidworker'|translate }}</h4>

  <ion-row class="ion-align-items-center">
    <p>
      <ion-item style="--inner-padding-end: 0;">
        <ion-label position="stacked">
          {{ 'page.program.manage-aidworkers.email'|translate }}
        </ion-label>
        <div style="display: flex; width: 100%;"
             class="ion-align-items-center"
        >
        <ion-input type="text"
                  name="emailAidworker"
                  [(ngModel)]="emailAidworker"
                  ngDefaultControl
                  [disabled]="isDisabled"
        ></ion-input>
        </div>
      </ion-item>
    </p>
    <p>
      <password-toggle-input name="passwordAidworker"
                              [(ngModel)]="passwordAidworker"
                              ngDefaultControl
                              [disabled]="isDisabled"
                              autocomplete="new-password"
                              [minLength]="passwordMinLength"
                              [labelShow]="'password-toggle.show'|translate"
                              [labelHide]="'password-toggle.hide'|translate"
                              [(isValid)]="createIsValid"
                              [label]="'page.program.manage-aidworkers.create-password'|translate:{ minimalLength: passwordMinLength }"
      ></password-toggle-input>
    </p>
  
    <ion-button
                [disabled]="False"
                (click)="addAidworker()"
    >
      {{ 'page.program.manage-aidworkers.confirm'|translate }}
    </ion-button>

  </ion-row>

</section>
