<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
      <ion-button type="button"
                  fill="clear"
                  shape="round"
                  size="large"
                  [routerLink]="['/program', programId]"
                  routerDirection="back"
      >
        <ion-icon name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title *ngIf="!showSensitiveData">
      {{ 'page.programs.program-people.pageTitle'|translate }}
    </ion-title>
    <ion-title *ngIf="showSensitiveData">
      {{ 'page.programs.program-people.pageTitlePrivacy'|translate }}
    </ion-title>
  </ion-toolbar>
</ion-header>


<ion-content class="ion-padding">
  <p *ngIf="!enrolledPeople?.length && !showSensitiveData">
    {{ 'page.programs.program-people.noConnections'|translate }}
  </p>
  <p *ngIf="!enrolledPeople?.length && showSensitiveData">
    {{ 'page.programs.program-people.noConnectionsPrivacy'|translate }}
  </p>

  <ngx-datatable #people
                 class="bootstrap"
                 limit="50"
                 columnMode="force"
                 rowHeight="auto"
                 headerHeight="50"
                 footerHeight="50"
                 reorderable="false"
                 sortType="multi"
                 selectionType="checkbox"
                 loadingIndicator="true"
                 [columns]="columns"
                 [rows]="enrolledPeople"
                 [selected]="selectedPeople"
                 [messages]="tableMessages"
                 (select)="updateSubmitWarning()"
  ></ngx-datatable>

  <confirm-prompt [disabled]="!enrolledPeople.length"
                  (confirm)="submitInclusion()"
                  [subHeader]="'page.programs.program-people.submit-warningPrivacy'|translate"
                  [message]="submitWarning.message"
                  class="ion-float-end"
                  *ngIf="showSensitiveData"
  >
    {{ 'page.programs.program-people.submitPrivacy'|translate }}
  </confirm-prompt>

  <confirm-prompt [disabled]="!enrolledPeople.length"
                  (confirm)="submitInclusion()"
                  [subHeader]="'page.programs.program-people.submit-warning'|translate"
                  [message]="submitWarning.message"
                  class="ion-float-end"
                  *ngIf="!showSensitiveData"
  >
    {{ 'page.programs.program-people.submit'|translate }}
  </confirm-prompt>

</ion-content>
